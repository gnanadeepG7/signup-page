<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In / Sign Up</title>
    <style>
        body {
            background-color: blanchedalmond;
        }
        #main-cont {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        #div-cont {
            background-color: bisque;
            width: 350px;
            border-radius: 20px;
            box-shadow: 2px 2px 10px rgb(30, 46, 48);
            padding: 30px 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        input[type="email"], input[type="password"] {
            border-radius: 5px;
            width: 90%;
            padding: 8px;
            margin-bottom: 8px;
            border: 1px solid #ccc;
        }
        #btn, #signupBtn, #resetBtn {
            padding: 8px;
            border-radius: 5px;
            width: 100%;
            font-weight: bold;
            background: #3498db;
            color: white;
            border: none;
            margin-top: 10px;
            cursor: pointer;
        }
        #btn:hover, #signupBtn:hover, #resetBtn:hover {
            background-color: lightskyblue;
            color: #222;
        }
        .error {
            color: red;
            font-size: 12px;
            margin-bottom: 4px;
        }
        .success {
            color: green;
            font-size: 12px;
            margin-bottom: 4px;
        }
        .link {
            color: #0d6efd;
            cursor: pointer;
            font-size: 12px;
            text-decoration: underline;
            margin: 0 5px;
        }
        .hide {
            display: none;
        }
        @media (max-width: 480px) {
            #div-cont {
                width: 98vw;
                padding: 10px;
                border-radius: 10px;
            }
            input[type="email"], input[type="password"], #btn, #signupBtn, #resetBtn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div id="main-cont">
        <div id="div-cont">
            <!-- Sign In Form -->
            <form id="signinForm" autocomplete="off">
                <h2>Sign In</h2>
                <input type="email" id="signin-email" placeholder="Enter Gmail" required>
                <div id="signin-email-err" class="error"></div>
                <input type="password" id="signin-password" placeholder="Enter Password" required>
                <div id="signin-password-err" class="error"></div>
                <input type="button" value="Sign In" id="btn" onclick="handleSignIn()">
                <div style="margin-top:8px;">
                    <span class="link" onclick="showSignup()">Create account</span>|
                    <span class="link" onclick="showForgot()">Forgot password?</span>
                </div>
            </form>
            <!-- Sign Up Form -->
            <form id="signupForm" class="hide" autocomplete="off">
                <h2>Sign Up</h2>
                <input type="email" id="signup-email" placeholder="Enter Gmail" required>
                <div id="signup-email-err" class="error"></div>
                <input type="password" id="signup-password" placeholder="Enter Password" required>
                <div id="signup-password-err" class="error"></div>
                <input type="button" value="Sign Up" id="signupBtn" onclick="handleSignUp()">
                <div style="margin-top:8px;">
                    <span class="link" onclick="showSignin()">Already have an account?</span>
                </div>
            </form>
            <!-- Forgot Password Form -->
            <form id="forgotForm" class="hide" autocomplete="off">
                <h2>Forgot Password</h2>
                <input type="email" id="forgot-email" placeholder="Enter Gmail" required>
                <div id="forgot-email-err" class="error"></div>
                <input type="button" value="Reset Password" id="resetBtn" onclick="handleForgot()">
                <div style="margin-top:8px;">
                    <span class="link" onclick="showSignin()">Back to Sign In</span>
                </div>
                <div id="forgot-success" class="success"></div>
            </form>
        </div>
    </div>
    <script>
        // Show/hide forms
        function showSignin() {
            document.getElementById('signinForm').classList.remove('hide');
            document.getElementById('signupForm').classList.add('hide');
            document.getElementById('forgotForm').classList.add('hide');
            clearAll();
        }
        function showSignup() {
            document.getElementById('signinForm').classList.add('hide');
            document.getElementById('signupForm').classList.remove('hide');
            document.getElementById('forgotForm').classList.add('hide');
            clearAll();
        }
        function showForgot() {
            document.getElementById('signinForm').classList.add('hide');
            document.getElementById('signupForm').classList.add('hide');
            document.getElementById('forgotForm').classList.remove('hide');
            clearAll();
        }
        function clearAll() {
            // Clear all error/success messages and inputs
            document.querySelectorAll('.error').forEach(e => e.innerText = "");
            document.querySelectorAll('.success').forEach(e => e.innerText = "");
            document.querySelectorAll('input[type="email"],input[type="password"]').forEach(e => e.style.borderColor = "");
        }

        // Sign Up
        function handleSignUp() {
            let email = document.getElementById('signup-email').value.trim();
            let password = document.getElementById('signup-password').value;
            let emailErr = document.getElementById('signup-email-err');
            let passwordErr = document.getElementById('signup-password-err');
            emailErr.innerText = "";
            passwordErr.innerText = "";

            if (email === "") {
                emailErr.innerText = "Email is required";
                document.getElementById('signup-email').style.borderColor = "red";
            } else {
                if (email.endsWith("@gmail.com")) {
                    document.getElementById('signup-email').style.borderColor = "green";
                } else {
                    emailErr.innerText = "Only Gmail addresses allowed";
                    document.getElementById('signup-email').style.borderColor = "red";
                }
            }

            if (password === "") {
                passwordErr.innerText = "Password is required";
                document.getElementById('signup-password').style.borderColor = "red";
            } else {
                if (password.length >= 8) {
                    document.getElementById('signup-password').style.borderColor = "green";
                } else {
                    passwordErr.innerText = "Password must be at least 8 characters";
                    document.getElementById('signup-password').style.borderColor = "red";
                }
            }

            // Store in localStorage if valid
            if (
                email.endsWith("@gmail.com") &&
                password.length >= 8
            ) {
                localStorage.setItem(email, password);
                alert("Sign up successful! Please sign in.");
                showSignin();
                document.getElementById('signupForm').reset();
            }
        }

        // Sign In
        function handleSignIn() {
            let email = document.getElementById('signin-email').value.trim();
            let password = document.getElementById('signin-password').value;
            let emailErr = document.getElementById('signin-email-err');
            let passwordErr = document.getElementById('signin-password-err');
            emailErr.innerText = "";
            passwordErr.innerText = "";

            if (email === "") {
                emailErr.innerText = "Email is required";
                document.getElementById('signin-email').style.borderColor = "red";
            } else {
                if (email.endsWith("@gmail.com")) {
                    document.getElementById('signin-email').style.borderColor = "green";
                } else {
                    emailErr.innerText = "Only Gmail addresses allowed";
                    document.getElementById('signin-email').style.borderColor = "red";
                }
            }

            if (password === "") {
                passwordErr.innerText = "Password is required";
                document.getElementById('signin-password').style.borderColor = "red";
            } else {
                if (password.length >= 8) {
                    document.getElementById('signin-password').style.borderColor = "green";
                } else {
                    passwordErr.innerText = "Password must be at least 8 characters";
                    document.getElementById('signin-password').style.borderColor = "red";
                }
            }

            // Check localStorage if valid
            if (
                email.endsWith("@gmail.com") &&
                password.length >= 8
            ) {
                let storedPwd = localStorage.getItem(email);
                if (storedPwd === password) {
                    alert("Sign in successful!");
                    document.getElementById('signinForm').reset();
                } else {
                    passwordErr.innerText = "Invalid email or password";
                    document.getElementById('signin-password').style.borderColor = "red";
                }
            }
        }

        // Forgot Password
        function handleForgot() {
            let email = document.getElementById('forgot-email').value.trim();
            let emailErr = document.getElementById('forgot-email-err');
            let successMsg = document.getElementById('forgot-success');
            emailErr.innerText = "";
            successMsg.innerText = "";

            if (email === "") {
                emailErr.innerText = "Email is required";
                document.getElementById('forgot-email').style.borderColor = "red";
            } else {
                if (email.endsWith("@gmail.com")) {
                    document.getElementById('forgot-email').style.borderColor = "green";
                } else {
                    emailErr.innerText = "Only Gmail addresses allowed";
                    document.getElementById('forgot-email').style.borderColor = "red";
                }
            }

            if (email.endsWith("@gmail.com")) {
                let storedPwd = localStorage.getItem(email);
                if (storedPwd) {
                    successMsg.innerText = "Your password is: " + storedPwd;
                    document.getElementById('forgotForm').reset();
                } else {
                    emailErr.innerText = "Email not found. Please sign up.";
                    document.getElementById('forgot-email').style.borderColor = "red";
                }
            }
        }

        // Show sign in by default                              
        showSignin();
    </script>
</body>
</html>

